(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[944],{4583:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});var r=a(2115);let l=()=>{let[e]=(0,r.useState)({id:"1",name:"John Doe",email:"john@measura.com",role:"admin"}),[s]=(0,r.useState)(!1);return{user:e,isAuthenticated:!0,isLoading:s,login:async(e,s)=>{console.log("Mock login with:",e,s)},register:async(e,s,a,r)=>{console.log("Mock register with:",e,s,a,r)},logout:()=>{console.log("Mock logout")}}}},6283:(e,s,a)=>{Promise.resolve().then(a.bind(a,7107))},7107:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var r=a(5155),l=a(5695),n=a(2115),t=a(4490),d=a(3032),o=a(2023),i=a(3585);let c=[{code:"pt",name:"Portugu\xeas",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{code:"en",name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8"}];function m(){let{i18n:e}=(0,t.Bd)(),[s,a]=(0,n.useState)(e.language);(0,n.useEffect)(()=>{a(e.language)},[e.language]);let l=s=>{e.changeLanguage(s),a(s)},d=c.map(e=>({id:e.code,label:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:e.flag}),(0,r.jsx)("span",{children:e.name})]}),onClick:()=>l(e.code)})),m=c.find(e=>e.code===s);return(0,r.jsx)(i.m,{trigger:(0,r.jsxs)("button",{className:(0,o.cn)("inline-flex items-center justify-center space-x-2 rounded-md px-3 py-1.5 text-sm font-medium","border border-border bg-background text-secondary hover:bg-background-secondary hover:text-default","transition-colors focus:outline-none focus:ring-2 focus:ring-primary"),"aria-label":"Select language",children:[(0,r.jsx)("span",{children:null==m?void 0:m.flag}),(0,r.jsx)("span",{children:null==m?void 0:m.code.toUpperCase()}),(0,r.jsx)("svg",{className:"h-4 w-4 text-tertiary",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),items:d,align:"right",dropdownClassName:"w-40"})}var u=a(5683),h=a(6766),g=a(7740);let x={src:"/_next/static/media/measura.a4b8cf9d.png",height:137,width:103,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAKlBMVEVRQuFQQd5RQuBRQdpTROZQQN1MaXFRQd9RQuNPPtdRQN1RQd5RQdxZSfe3ahy6AAAADXRSTlPDoNYm/nsAj/NmcrCEmG6hYwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC5JREFUeJwFwYcBADAMwyDZGd3/v1tA0R0DO8JAFgkucm7W1VRxUgtw7vHgVAf6FF8AzE06R90AAAAASUVORK5CYII=",blurWidth:6,blurHeight:8},A=()=>{let{t:e}=(0,t.Bd)("common"),s={name:"John Doe"},{theme:a,setTheme:l}=function(){let[e,s]=(0,n.useState)("system");return(0,n.useEffect)(()=>{let e=localStorage.getItem("theme");e&&s(e)},[]),(0,n.useEffect)(()=>{let s=window.document.documentElement;if("system"===e){let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.toggle("dark","dark"===e)}else s.classList.toggle("dark","dark"===e);localStorage.setItem("theme",e)},[e]),{theme:e,setTheme:s}}();return(0,r.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex h-14 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(h.default,{src:x,alt:"Measura",width:25,height:25,className:"lg:hidden ml-16"}),(0,r.jsx)(h.default,{src:g.A,alt:"Measura",width:125,height:125,className:"hidden lg:block"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(m,{}),(0,r.jsx)(d.$n,{variant:"ghost",size:"sm",onClick:()=>{l("dark"===a?"light":"dark")},className:"w-9 h-9 p-0",title:e("themeToggle"),children:"dark"===a?(0,r.jsx)(u.gL,{className:"w-4 h-4"}):(0,r.jsx)(u.rR,{className:"w-4 h-4"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 border-l border-border pl-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.ny,{className:"w-5 h-5 text-muted"}),(0,r.jsx)("span",{className:"text-sm font-medium text-default",children:(null==s?void 0:s.name)||e("user")})]}),(0,r.jsx)(d.$n,{variant:"ghost",size:"sm",onClick:()=>{console.log("Logout")},className:"w-9 h-9 p-0",title:e("logout"),children:(0,r.jsx)(u.o4,{className:"w-4 h-4"})})]})]})]})})})};var f=a(6874),N=a.n(f),p=a(4583),b=a(59);let v=e=>[{name:e("nav.dashboard"),href:"/dashboard",icon:u.fA,requiredRoles:[b.gG.USER,b.gG.ANALYST,b.gG.MANAGER,b.gG.ADMIN]},{name:e("nav.gqm"),href:"/gqm",icon:u.dS,requiredRoles:[b.gG.ANALYST,b.gG.MANAGER,b.gG.ADMIN]},{name:e("nav.fpa"),href:"/fpa",icon:u.Kx,requiredRoles:[b.gG.ANALYST,b.gG.MANAGER,b.gG.ADMIN]},{name:e("nav.plans"),href:"/plans",icon:u.py,requiredRoles:[b.gG.MANAGER,b.gG.ADMIN]},{name:e("nav.docs"),href:"/docs",icon:u.vP,requiredRoles:[b.gG.USER,b.gG.ANALYST,b.gG.MANAGER,b.gG.ADMIN]}],j=(e,s)=>{if(!s)return[{name:"Dashboard",href:"/dashboard",icon:u.fA,requiredRoles:[b.gG.USER,b.gG.ANALYST,b.gG.MANAGER,b.gG.ADMIN]},{name:"GQM",href:"/gqm",icon:u.dS,requiredRoles:[b.gG.ANALYST,b.gG.MANAGER,b.gG.ADMIN]},{name:"FPA",href:"/fpa",icon:u.Kx,requiredRoles:[b.gG.ANALYST,b.gG.MANAGER,b.gG.ADMIN]},{name:"Plans",href:"/plans",icon:u.py,requiredRoles:[b.gG.MANAGER,b.gG.ADMIN]},{name:"Docs",href:"/docs",icon:u.vP,requiredRoles:[b.gG.USER,b.gG.ANALYST,b.gG.MANAGER,b.gG.ADMIN]}];let a=v(s);return e?a.filter(s=>!s.requiredRoles||s.requiredRoles.includes(e)):a},G=(e,s)=>"/dashboard"===s?"/dashboard"===e:e.startsWith(s),R=()=>{let e=(0,l.usePathname)(),{user:s}=(0,p.A)(),{t:a}=(0,t.Bd)(["nav","dashboard","common"]),[i,c]=(0,n.useState)(!1),m=j(null==s?void 0:s.role,e=>{switch(e){case"nav.dashboard":return a("nav:dashboard");case"nav.fpa":return a("nav:fpa");case"nav.gqm":return a("nav:gqm");case"nav.plans":return a("nav:plans");case"nav.docs":return a("nav:docs");default:return e}}),u=()=>{c(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.$n,{variant:"ghost",size:"sm",className:"fixed top-3 left-4 z-50 lg:hidden bg-background border border-border",onClick:()=>{c(!i)},"aria-label":"Toggle menu",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i&&(0,r.jsx)("div",{className:"fixed inset-0 z-30 bg-opacity-50 lg:hidden",onClick:u}),(0,r.jsx)("aside",{className:(0,o.cn)("fixed left-0 top-14 z-40 h-[calc(100vh-3.5rem)] w-64 border-r border-border bg-background transition-transform duration-300 ease-in-out","lg:translate-x-0",i?"translate-x-0":"-translate-x-full"),children:(0,r.jsxs)("div",{className:"flex h-full flex-col overflow-y-auto custom-scrollbar",children:[(0,r.jsx)("nav",{className:"flex-1 space-y-1 p-4",children:(0,r.jsx)("div",{className:"space-y-1",children:m.map(s=>{let a=G(e,s.href),l=s.icon;return(0,r.jsxs)(N(),{href:s.href,onClick:u,className:(0,o.cn)("sidebar-nav-item",a&&"active"),children:[(0,r.jsx)(l,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:s.name}),s.badge&&(0,r.jsx)("span",{className:"ml-auto flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs text-white",children:s.badge})]},s.name)})})}),(0,r.jsx)("div",{className:"p-4 border-t border-border",children:(0,r.jsxs)("div",{className:"text-xs text-muted",children:[(0,r.jsxs)("p",{children:[a("dashboard:currentRole"),": ",(null==s?void 0:s.role)||"Guest"]}),(0,r.jsxs)("p",{children:[a("common:user"),": ",(null==s?void 0:s.name)||"Anonymous"]}),(0,r.jsx)("p",{children:"Version: 1.0.0"})]})})]})})]})},w=e=>{let{children:s}=e,{isAuthenticated:a,isLoading:t}=(0,p.A)(),d=(0,l.useRouter)();return((0,n.useEffect)(()=>{t||a||d.push("/")},[a,t,d]),t)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,r.jsx)("div",{className:"animate-pulse text-muted",children:"Loading..."})}):a?(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(A,{}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(R,{}),(0,r.jsx)("main",{className:"flex-1 lg:ml-64 pt-14",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-6",children:s})})]})]}):null}}},e=>{var s=s=>e(e.s=s);e.O(0,[218,969,768,441,684,358],()=>s(6283)),_N_E=e.O()}]);